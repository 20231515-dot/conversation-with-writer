"""
AI 작가와의 대화 - 프롬프트 템플릿
초등학교 6학년 학생들을 위한 AI 프롬프트
"""

def get_author_role_prompt(story_content, question):
    """AI 작가 역할 프롬프트 생성"""
    return f"""당신은 이 이야기를 쓴 작가입니다. 초등학교 6학년 학생들이 당신의 작품을 읽고 질문을 합니다.

[이야기 내용]
{story_content}

역할:
- 작가의 관점에서 학생들의 질문에 답변해주세요
- 친절하고 교육적인 톤으로 답변하세요
- 학생들의 사고를 자극하는 답변을 제공하세요
- 이야기의 배경, 캐릭터의 감정, 작가의 의도 등을 설명하세요
- 때로는 반문을 통해 학생 스스로 생각하게 만드세요
- 답변은 3-5문장으로 간결하게 해주세요

학생의 질문: {question}

작가로서 답변해주세요 (한국어, 초등학생 수준):"""


def get_question_analysis_prompt(story_content, question):
    """질문 분석 프롬프트 생성"""
    return f"""다음은 초등학교 6학년 학생이 이야기를 읽고 작가에게 한 질문입니다.
이 질문의 질을 1-5점으로 평가해주세요.

[이야기]
{story_content}

[학생의 질문]
{question}

평가 기준:
1. 깊이 (1점: 매우 표면적 → 5점: 매우 깊이 있음)
   - 단순 사실 확인 vs 의미/주제 탐구
   - 예: "주인공 이름이 뭐예요?" (1점) vs "주인공은 왜 그런 선택을 했나요?" (4-5점)

2. 창의성 (1점: 평범함 → 5점: 독창적)
   - 누구나 할 법한 질문 vs 독특한 관점
   - 예: "재미있어요" (1점) vs "만약 상황이 반대였다면?" (4-5점)

3. 이해도 (1점: 오해 많음 → 5점: 정확히 이해)
   - 이야기 내용을 얼마나 잘 파악했는가
   - 잘못 이해한 질문 vs 정확하게 이해한 질문

4. 사고력 (1점: 단순 → 5점: 분석적/비판적)
   - 표면적 질문 vs 분석적/비판적 사고
   - 예: "언제 일어난 일이에요?" (1점) vs "이 선택의 의미는?" (4-5점)

총점은 4가지 항목의 평균입니다 (소수점 한 자리까지).

다음 JSON 형식으로만 답변해주세요 (다른 텍스트 없이):
{{
  "total_score": 평균 점수 (소수점 한 자리, 1.0-5.0),
  "depth": 깊이 점수 (1-5),
  "creativity": 창의성 점수 (1-5),
  "comprehension": 이해도 점수 (1-5),
  "thinking": 사고력 점수 (1-5),
  "feedback": "간단한 평가 이유 (한국어, 1-2문장)"
}}"""


def get_report_generation_prompt(student_id, student_name, total_questions, avg_score, sample_questions):
    """학습 리포트 생성 프롬프트"""
    return f"""초등학교 6학년 학생의 독해 및 질문 활동을 분석하여 학습 리포트를 작성해주세요.

학생 정보:
- 학번: {student_id}
- 이름: {student_name}

활동 통계:
- 총 질문 개수: {total_questions}개
- 평균 질문 점수: {avg_score:.1f}/5.0

대표 질문들:
{sample_questions}

다음 형식으로 리포트를 작성해주세요 (한국어):

## {student_name} 학생 학습 리포트

### 1. 종합 평가
(2-3문장으로 학생의 전반적인 독해 및 사고 수준을 평가해주세요)

### 2. 강점
(2-3개의 항목으로 잘하고 있는 부분들을 구체적으로 설명해주세요)

### 3. 발전 가능 영역
(1-2개의 항목으로 더 노력하면 좋을 부분들을 격려하며 제안해주세요)

### 4. 추천 사항
(앞으로 시도해볼 만한 질문 방식이나 접근법을 제안해주세요)

---
생성 일자: (자동 입력)

격려적이고 건설적인 톤으로 작성해주세요. 학생이 읽었을 때 동기부여가 되도록 해주세요."""
